<!DOCTYPE html>
<html>
<head> 
<meta charset="utf-8"> 
<title>菜鸟教程(runoob.com)</title> 
</head>
<body>

<form action="demo_form.php">
  First name: <input type="text" name="fname" value="John"><br>
  Last name: <input type="text" name="lname" value="Doe"><br>
  <input type="submit" value="提交表单">
	
<input type="button" id="exec_btn" value="exec" onclick="document.write(HtmlEncode('<img src=@ onerror=alert(123) / >'))">
<input type="button" id="exec_btn" value="exec" onclick="document.write(HtmlEncode('e'))">
<input type="button" id="exec_btn" value="exec" onclick="document.write(('&lt;img src=@ onerror=alert(12345) /  &gt;'))">
</form>
<script>

function HtmlEncode(str) {
  var s = '';
  if (str.length == 0) return "";
  s = str.replace(/&/g, "&amp;");
  s = s.replace(/</g, "&lt;");
  s = s.replace(/>/g, "&gt;");
  s = s.replace(/\"/g, "&quto;");
  console.log(s);
	return '&lt;img src=@ onerror=alert(1234) /  &gt;';
}
</script>
</body>
</html>

