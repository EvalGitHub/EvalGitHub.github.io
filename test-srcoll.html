<!-- <!DOCTYPE html> -->
<html><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>滚动高度获取</title>
  <style>
  .result {
    position: fixed;
    pointer-events: none;	
    top: 0; left: 0; right: 0;
    padding: 8px;
    font-size: 12px;
    max-height: 100vh;
    white-space: pre-wrap;
    overflow: hidden;
  }
  .test_btn {
    position: absolute;
    bottom: 0;
  }
  </style>
  </head>
  
  <body>
  <button class="test_btn" onclick="goToTop(document.scrollingElement, document.scrollingElement.scrollTop, 0 ,2, function() {alert('滚动成功');})">回到顶部</button>
  <div style="height:4000px;"></div>
  <div id="result" class="result"></div>
  <script>
  var logs = '';
  window.addEventListener('scroll', function () {
    logs += '\ndocument.documentElement.scrollTop是：' + document.documentElement.scrollTop + '\ndocument.body.scrollTop是：' + document.body.scrollTop + '\ndocument..scrollingElement:' + document.scrollingElement.scrollTop;
    result.innerHTML = logs;
    result.scrollTop = 9999999;
  });
  function goToTop(scrollEl, curPos, targetPos, rate, callback) {
    var topFun = function() {
      curPos = curPos + (targetPos - curPos) / rate;
      if (curPos <= 1) {
        scrollEl.scrollTop = 0;
        callback && callback();
        return;
      }
      scrollEl.scrollTop = curPos;
      requestAnimationFrame(topFun);
    }
    topFun();
  }
  // topAction(
  //   document.scrollingElement, 
  //   document.scrollingElement.scrollTop, 
  //   0, 2,
  //   function () {
  //     alert('已经到顶部了！！！');
  //   }
  // );
  </script>
</body></html>